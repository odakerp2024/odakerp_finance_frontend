<div class="container-fluid p-0">
    <div class="row headtitle mt-2">
        <div class="col-md-9 col-sm-9 col-lg-9 col-xl-9">
            <h4 class="ml-2 mt-2">Charge Code </h4>
        </div>
        <div class="col-md-3 col-sm-3 col-lg-3 col-xl-3 alrt">

            <button *ngIf="isUpdate" (click)="updateValue()" type="button"
                class="btn btn-warning bmd-btn-edit btn-raised btntop emarginr ng-star-inserted">
                <i class="material-icons editicon">edit</i>
            </button>

            <button type="button" class="btn btn-success btntop btn-raised bmd-btn-edit" (click)="onBack()"><i
                    class="material-icons editicon">reply</i>
                <div class="ripple-container"></div>
            </button>

            <button *ngIf="isUpdate"
                class="nav-link dropdown-toggle arrow-none waves-effect nav-user btn bmd-btn-edit btn-raised btntop btnlog"
                data-placement="bottom" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="material-icons editicon">schedule</i>
            </button>

            <div style="background-color: aliceblue;width:250px;left:-66px"
                class="dropdown-menu dropdown-menu  profile-dropdown" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" style="padding:15px;">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-12"><span>ModifiedOn: {{ModifiedOn}}</span> | <span>Modified By:
                                        {{ModifiedBy}}</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="margin-top:10px;">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-12"><span>CreatedOn: {{CreatedOn}}</span> | <span>Created By:
                                        {{CreatedBy}}</span></div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

        </div>
    </div>

    <!-- -------title start--------- -->
    <div class="row my-3 p-2" style="background-color: lavender;margin: 2px;">
        <div class="col-md-3">
            <div class="row">
                <div class="col-md-12">
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row">
            </div>
        </div>
        <div class="col-md-3">
            <div class="row bkgno">
                <div class="col-md-12">
                    <label [title]="fg.value.ChargeName" class="lbltxt header-text-label"><span
                            style="font-weight: lighter !important;">Charge Code Name :
                        </span>{{fg.value.ChargeName | uppercase}}</label>
                </div>
            </div>
        </div>
    </div>

    <!-- ------title end------------- -->

    <div class="card p-4">
        <div class="row mt-4 ml-0 mb-3" style="height: 2.4rem;">
            <div (click)="checkPermission('Basic')"
                [ngClass]="selectedTabName == 'Basic' ? 'selected-tav-view' : 'not-selected-tav-view'"
                class="col-2 text-center select-tav-view">Basic Details </div>
            <div (click)="checkPermission('GL')"
                [ngClass]="selectedTabName == 'GL' ? 'selected-tav-view' : 'not-selected-tav-view'"
                class="col-2 text-center select-tav-view">GL Mapping</div>

        </div>

        <div *ngIf="selectedTabName == 'Basic'">
            <form [formGroup]="fg">
                <!-- <div class="card">
                <div class="card-body "> -->
                <div class="row mt-4">

                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">Tariff Code</label>
                                    <input readonly [ngClass]=" isUpdate ? 'block-input' : ''" type="text"
                                        name="tariffCode" formControlName="tariffCode" autocomplete="off"
                                        placeholder="Tariff Code" id="tariffCode" class="form-control" required>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">Tariff Name</label>
                                    <input [ngClass]=" isUpdate ? 'block-input' : ''" type="text" name="ChargeName"
                                        formControlName="ChargeName" autocomplete="off" placeholder="Tariff Name"
                                        id="txttariffName" class="form-control" required>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">Short Name</label>
                                    <input (ngModelChange)="autoCodeGeneration($event)"
                                        [ngClass]=" isUpdate ? 'block-input' : ''" type="text" name="shortName"
                                        formControlName="shortName" autocomplete="off" placeholder="Short Name"
                                        id="shortName" class="form-control" required>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">Tax Group</label>

                                    <ng-select class="searchdropdown" [clearable]="false" [disabled]="isUpdate"
                                        [ngClass]=" isUpdateEnable ? 'block-input' : ''" name="gSTGroupID"
                                        formControlName="GSTGroupID" id="ddlGSTGroup">
                                        <ng-option [value]="0" [disabled]="true">--SELECT TAX
                                            GROUP--</ng-option>
                                        <ng-option *ngFor="let status of FillGSTGroup" [value]="status.GSTGroupId">
                                            {{status.GSTGroup | uppercase}}
                                        </ng-option>
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">Applicable to Division(s)</label>
                                    <mat-select placeholder="--SELECT DIVISION--" formControlName="Division"
                                        (selectionChange)="divisionChanges($event.value)" class="form-control">
                                        <ng-container *ngFor="let gRow of divisionList">
                                            <mat-option *ngIf="gRow.Active" [value]="gRow.ID">
                                                {{gRow.DivisionName | uppercase}}
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                    <!-- <ng-select class="searchdropdown" [attr.disabled]="isCopied ? 'disabled' : null"  
                                            [ngClass]=" isUpdate ? 'block-input' : ''" placeholder="--SELECT DIVISION--" formControlName="Division"
                                            (selectionChange)="divisionChanges($event.value)" multiple>
                                                <ng-option [value]="''" [disabled]="true">--SELECT TO ACCOUNT--</ng-option>
                                                <ng-container *ngFor="let gRow of divisionList">
                                                <ng-option *ngFor="gRow.Active" [value]="gRow.ID">
                                                     {{gRow.DivisionName | uppercase}}
                                                </ng-option>
                                              </ng-select>   -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">Active</label>

                                    <ng-select class="searchdropdown" [clearable]="false" name="Status"
                                        formControlName="IsActive" id="ddlStatus">
                                        <ng-option [value]="''" [disabled]="true">--SELECT ACTIVE--</ng-option>
                                        <ng-option *ngFor="let status of statusvalues" [value]="status.value">
                                            {{status.viewValue | uppercase}}
                                        </ng-option>
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">SAC Code</label>

                                    <ng-select class="searchdropdown" [ngClass]=" isUpdateEnable ? 'block-input' : ''"
                                        [clearable]="false" name="SACID" formControlName="SACID" id="ddlSACCode">
                                        <ng-option [value]="0" [disabled]="true">--SELECT SAC CODE--</ng-option>
                                        <ng-option *ngFor="let status of FillSAC" [value]="status.SACID">
                                            {{status.SACDescription | uppercase}}
                                        </ng-option>
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label>Selected Division List</label>
                                    <div style="display:flex;align-items:center; margin-top: 18px;">
                                        <span *ngFor="let division of chipsList"
                                            class="px-2 py-1 border border-bark mx-2">{{division.DivisionName |
                                            uppercase}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->

                    <!-- <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label>Select Associate Tax - Tariff </label>
                                    <mat-select placeholder="--Select Associate Tax--" formControlName="Tax"
                                        class="form-control" multiple>
                                        <ng-container *ngFor="let gRow of AssociatedTaxList">
                                            <mat-option [value]="gRow.AssociatedTypeID">
                                                {{gRow.AssociatedType | uppercase}}
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                </div>
                            </div>
                        </div>
                    </div> -->

                    <div class="col-md-6 col-sm-6 col-lg-4 col-xl-4">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="str">GL Mapping Status</label>
                                    <input [disabled]="true" [(ngModel)]="GLMappingStatus"
                                        [ngModelOptions]="{standalone: true}" class="block-input" type="text"
                                        name="shortName" autocomplete="off" placeholder="GL Mapping Status"
                                        id="shortName" class="form-control" required>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="mb-3">
                    <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12" style="text-align:right;">
                        <button [disabled]="isUpdateEnable" type="submit" (click)="onSubmit()"
                            class="btn btn-primary btn-raised mb-0  m-r-15">Save</button>

                        <button type="button" (click)="reset()" class="btn btn-danger btn-raised mb-0">Cancel</button>

                        <!-- <button type="submit" (click)="onSubmit()" class="btn btn-primary btn-raised mb-0">Save<div
                                class="ripple-container"></div></button> -->
                        <!-- [disabled]="disableSave" *ngIf="showSave" -->
                    </div>
                    <input type="hidden" id="HDRegId" ng-model="HDRegId" />
                </div>

                <!-- </div>
            </div> -->
            </form>
        </div>

        <div *ngIf="selectedTabName == 'GL'">

            <form [formGroup]="linkedGLForm" [ngClass]=" !isFFDivisoinMode ? 'block-input' : ''">

                <!-- -----old code-------------- -->
                <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12 ">

                    <div class="row">
                        <div class="col-md-9 col-sm-9 col-lg-9 col-xl-9">
                            <h5 class="ml-2 mt-2">Mapping for Freight Forwarding Division </h5>
                        </div>
                        <div class="col-md-3 alrt">
                            <button type="submit" class="btn btn-success bmd-btn-fab tblbtngap"
                                [disabled]="isUpdateEnable" (click)="DynamicGridAddRow()"><i
                                    class="material-icons editicon">add</i>
                                <div class="ripple-container"></div>
                            </button>
                            <button type="submit" class="btn btn-primary bmd-btn-fab tblbtngap"
                                [disabled]="isUpdateEnable" (click)="OnClickEditValue()"><i
                                    class="material-icons editicon">edit</i>
                                <div class="ripple-container"></div>
                            </button>
                            <!-- <button type="submit" class="btn btn-danger bmd-btn-fab" [disabled]="isUpdateEnable"
                                (click)="DynamicGridDeleteRow()"><i class="material-icons editicon">delete</i>
                                <div class="ripple-container"></div>
                            </button> -->
                        </div>
                        <div class="col-12 table-wrapper">
                            <!-- <form [formGroup]="linkedGLForm"> -->
                            <table class="bend-table" style="max-height: 500px;"
                                class="table table-responsive  table-bordered w-100 table-striped border-0 agingTable mt-2">
                                <thead class="text-center">
                                    <tr class="header-position-sticky">
                                        <th class="actwid text-center">S.No</th>
                                        <th class="text-center">Activity</th>
                                        <th class="text-center">Transaction Type</th>
                                        <th class="text-center">WIP Account</th>
                                        <th class="text-center">Provision Account</th>
                                        <th class="text-center">Actual Account</th>
                                        <th class="text-center">Effective Date</th>
                                        <th class="text-center">Status</th>
                                        <th class="text-center">Select</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-center"></td>
                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown" [clearable]="false" [appendTo]="'body'"
                                                formControlName="ActivityId" (change)="IsAllSelect($event)"
                                                [disabled]="isUpdateEnable">
                                                <ng-option [value]="0" [disabled]="true">--SELECT
                                                    Activity--</ng-option>
                                                <ng-option [value]="''">ALL</ng-option>
                                                <ng-option *ngFor="let gRow of ActivityList" [value]="gRow.ID">
                                                    {{gRow.Name | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center best-fit-width">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                [disabled]="isUpdateEnable" formControlName="TransactionType"
                                                (change)="OnTransactionChange($event)">
                                                <ng-option [value]="0" [disabled]="true">--SELECT Transaction
                                                    Type--</ng-option>
                                                <ng-option *ngFor="let item of TransactionTypeList" [value]="item.ID">
                                                    {{item.GroupName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                [disabled]="isUpdateEnable" formControlName="WIP">
                                                <ng-option [value]="0" [disabled]="true">--SELECT WIP
                                                    Account--</ng-option>
                                                <ng-option *ngFor="let gRow of WIPList" [value]="gRow.ID">
                                                    {{gRow.AccountName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown" [ngClass]=" IsIncome ? 'block-input' : ''"
                                                [appendTo]="'body'" [clearable]="false"
                                                formControlName="ProvisionAccountId">
                                                <ng-option [value]="0" [disabled]="true">--SELECT Provision Account
                                                    Type--</ng-option>
                                                <ng-option *ngFor="let gRow of ProvisionAccountList" [value]="gRow.ID">
                                                    {{gRow.AccountName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                formControlName="ActualAccountId">
                                                <ng-option [value]="0" [disabled]="true">--SELECT Actual Account
                                                    Type--</ng-option>
                                                <ng-option *ngFor="let gRow of ProvisionAccountList" [value]="gRow.ID">
                                                    {{gRow.AccountName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center best-fit-width">
                                            <mat-form-field class="tillDate mat_date_picker mt-3" appearance="outline">
                                                <input matInput (click)="EffectiveFrom.open()" [min]="getToday()"
                                                    readonly autocomplete="off" [matDatepicker]="EffectiveFrom"
                                                    id="EffectiveFrom" formControlName="EffectiveDate"
                                                    style="font:small-caption">
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="EffectiveFrom"></mat-datepicker-toggle>
                                                <mat-datepicker #EffectiveFrom></mat-datepicker>
                                            </mat-form-field>
                                        </td>

                                        <td class="text-center">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                [disabled]="isUpdateEnable" formControlName="Status" id="ddlStatus">
                                                <ng-option [value]="''" [disabled]="true">--SELECT
                                                    ACTIVE--</ng-option>
                                                <ng-option *ngFor="let status of statusvalues" [value]="status.value">
                                                    {{status.viewValue | uppercase}}
                                                </ng-option>
                                            </ng-select>
                                        </td>

                                        <td class="text-center"></td>
                                    </tr>
                                    <tr *ngFor="let gRow of DynamicGrid; let i= index let last=last">
                                        <td class="other text-center"> {{i+1}}</td>
                                        <td class="other text-center">
                                            <!-- Linked GL -->
                                            <!-- (ngModelChange)="dropdowOnSelect(gRow)" -->
                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.ActivityId" [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Activity--</option>
                                                    <option *ngFor="let gRow of ActivityList" [value]="gRow.ID">
                                                        {{gRow.Name | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.Activity}}
                                        </td>
                                        <td class="other text-center">
                                            <!-- Linked GL -->
                                            <!-- (ngModelChange)="dropdowOnSelect(gRow)" -->
                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.TransactionType"
                                                    [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Transaction Type--</option>
                                                    <option *ngFor="let gRow of TransactionTypeList" [value]="gRow.ID">
                                                        {{gRow.GroupName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.TransactionTypeName}}
                                        </td>

                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.WIP" [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT WIP --</option>
                                                    <option *ngFor="let gRow of WIPList" [value]="gRow.ID">
                                                        {{gRow.AccountName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.WIPName}}
                                        </td>
                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.ProvisionAccountId"
                                                    [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Provision Account --</option>
                                                    <option *ngFor="let gRow of divisionList" [value]="gRow.ID">
                                                        {{gRow.DivisionName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.ProvisionAccount}}
                                        </td>
                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.ActualAccountId"
                                                    [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Actual Account --</option>
                                                    <option *ngFor="let gRow of divisionList" [value]="gRow.ID">
                                                        {{gRow.DivisionName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.ActualAccount}}
                                        </td>

                                        <td class="other text-center">
                                            <!-- <mat-form-field class="tillDate mat_date_picker mt-3"
                                                    appearance="outline">
                                                    <input matInput (click)="EnquiryDateto.open()" readonly
                                                        [disabled]="ControlDisplay" [min]="getToday()"
                                                        autocomplete="off" [matDatepicker]="EnquiryDateto"
                                                        id="EnquiryDateto" [placeholder]="entityDateFormat"
                                                        [(ngModel)]="gRow.EffectiveDate"
                                                        [ngModelOptions]="{standalone: true}">
                                                    <mat-datepicker-toggle matSuffix
                                                        [for]="EnquiryDateto"></mat-datepicker-toggle>
                                                    <mat-datepicker #EnquiryDateto></mat-datepicker>
                                                </mat-form-field> -->
                                            {{gRow.EffectiveDate | date:
                                            commonDataService.convertToLowerCaseDay(entityDateFormat)}}

                                            <!-- <input type="date" [disabled]="ControlDisplay" autocomplete="off"
                                                    id="txtEffectiveDate" [ngModelOptions]="{standalone: true}"
                                                            [(ngModel)]="gRow.EffectiveFrom" class="form-control cursor_blocked"
                                                            [min]="getToday()" /> -->
                                        </td>

                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.Status" [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT ACTIVE --</option>
                                                    <option *ngFor="let gRow of divisionList" [value]="gRow.ID">
                                                        {{gRow.DivisionName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.StatusName}}
                                        </td>
                                        <td class="other text-center">
                                            <!-- Deselect -->
                                            <!-- <input type="checkbox" [ngModelOptions]="{standalone: true}"
                                                    [(ngModel)]="gRow.IsSelected" ng-true-value="1" ng-false-value="0"
                                                    id="chkDeselect"> -->

                                            <input class="vertal checkbox" type="radio" name="AlertCheck"
                                                id="RadioCheck" (click)="radioChange($event,i)" />
                                        </td>
                                        <!-- <td class="alc">
                                                <button class="btn btn-success bmd-btn-fab" [disabled]="ControlDisplay"
                                                    *ngIf="last" (click)="DynamicGridAddRow(gRow,i)">
                                                    <i class="material-icons">add</i>
                                                </button>
                                                <button class="btn btn-danger bmd-btn-fab" [disabled]="ControlDisplay"
                                                    (click)="DynamicGridDeleteRow(DynamicGrid,i,gRow.ID)">
                                                    <i class="material-icons">delete</i>
                                                </button>
                                            </td> -->

                                    </tr>
                                </tbody>

                            </table>
                            <!-- </form> -->
                        </div>
                    </div>
                    <!-- `````````````` -->
                </div>
            </form>

            <!-- </div>
            </div> -->
            <!-- </form> -->

            <form [formGroup]="linkedOtherGLForm"   [ngClass]=" isFFDivisoinMode ? 'block-input' : ''">

                <!-- -----old code-------------- -->
                <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12 ">

                    <div class="row">
                        <div class="col-md-9 col-sm-9 col-lg-9 col-xl-9">
                            <h5 class="ml-2 mt-2">Mapping for Other Division </h5>
                        </div>
                        <div class="col-md-3 alrt">
                            <button type="submit" class="btn btn-success bmd-btn-fab tblbtngap"
                                [disabled]="isUpdateEnable" (click)="DynamicOtherDivisionGridAddRow()"><i
                                    class="material-icons editicon">add</i>
                                <div class="ripple-container"></div>
                            </button>
                            <button type="submit" class="btn btn-primary bmd-btn-fab tblbtngap"
                                [disabled]="isUpdateEnable" (click)="OnClickOtherDivisionEditValue()"><i
                                    class="material-icons editicon">edit</i>
                                <div class="ripple-container"></div>
                            </button>
                            <!-- <button type="submit" class="btn btn-danger bmd-btn-fab" [disabled]="isUpdateEnable"
                                (click)="DynamicGridDeleteRow()"><i class="material-icons editicon">delete</i>
                                <div class="ripple-container"></div>
                            </button> -->
                        </div>
                        <div class="col-12 table-wrapper">
                            <!-- <form [formGroup]="linkedOtherGLForm"> -->
                            <table class="bend-table" style="max-height: 500px;"
                                class="table table-responsive  table-bordered w-100 table-striped border-0 agingTable mt-2">
                                <thead class="text-center">
                                    <tr role="row" class="header-position-sticky">

                                        <th class="actwid text-center">S.No</th>
                                        <th class="text-center">Division</th>
                                        <th class="text-center">Transaction Type</th>
                                        <th class="text-center">WIP Account</th>
                                        <th class="text-center">Provision Account</th>
                                        <th class="text-center">Actual Account</th>
                                        <th class="text-center">Effective Date</th>
                                        <th class="text-center">Status</th>
                                        <th class="text-center">Select</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown" [clearable]="false" [appendTo]="'body'"
                                                formControlName="DivisionId" [disabled]="isUpdateEnable">
                                                <ng-option [value]="0" [disabled]="true">--SELECT
                                                    Division--</ng-option>
                                                <ng-option *ngFor="let gRow of divisionGLList" [value]="gRow.ID">
                                                    {{gRow.DivisionName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center best-fit-width">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                [disabled]="isUpdateEnable" formControlName="TransactionType"
                                                (change)="OnOtherDivisionTransactionChange($event)">
                                                <ng-option [value]="0" [disabled]="true">--SELECT Transaction
                                                    Type--</ng-option>
                                                <ng-option *ngFor="let item of TransactionTypeList" [value]="item.ID">
                                                    {{item.GroupName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                [disabled]="isUpdateEnable" formControlName="WIP">
                                                <ng-option [value]="0" [disabled]="true">--SELECT WIP
                                                    Account--</ng-option>
                                                <ng-option *ngFor="let gRow of WIPList" [value]="gRow.ID">
                                                    {{gRow.AccountName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown"
                                                [ngClass]=" OtherDivisionIsIncome ? 'block-input' : ''"
                                                [appendTo]="'body'" [clearable]="false" [disabled]="isUpdateEnable"
                                                formControlName="ProvisionAccountId">
                                                <ng-option [value]="0" [disabled]="true">--SELECT Provision Account
                                                    Type--</ng-option>
                                                <ng-option *ngFor="let gRow of ProvisionAccountList" [value]="gRow.ID">
                                                    {{gRow.AccountName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center bestfit-width">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                formControlName="ActualAccountId">
                                                <ng-option [value]="0" [disabled]="true">--SELECT Actual Account
                                                    Type--</ng-option>
                                                <ng-option *ngFor="let gRow of ProvisionAccountList" [value]="gRow.ID">
                                                    {{gRow.AccountName | uppercase}}
                                                </ng-option>
                                            </ng-select>

                                        </td>

                                        <td class="text-center best-fit-width">
                                            <mat-form-field class="tillDate mat_date_picker mt-3" appearance="outline">
                                                <input matInput (click)="EffectiveFrom1.open()" [min]="getToday()"
                                                    readonly autocomplete="off" [matDatepicker]="EffectiveFrom1"
                                                    id="EffectiveFrom1" formControlName="EffectiveDate"
                                                    style="font:small-caption">
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="EffectiveFrom1"></mat-datepicker-toggle>
                                                <mat-datepicker #EffectiveFrom1></mat-datepicker>
                                            </mat-form-field>
                                        </td>

                                        <td class="text-center">
                                            <ng-select class="searchdropdown" [appendTo]="'body'" [clearable]="false"
                                                [disabled]="isUpdateEnable" formControlName="Status" id="ddlStatus">
                                                <ng-option [value]="''" [disabled]="true">--SELECT
                                                    ACTIVE--</ng-option>
                                                <ng-option *ngFor="let status of statusvalues" [value]="status.value">
                                                    {{status.viewValue | uppercase}}
                                                </ng-option>
                                            </ng-select>
                                        </td>

                                        <td class="text-center"></td>
                                    </tr>
                                    <tr *ngFor="let gRow of DynamicOtherDivisionGrid; let i= index let last=last">
                                        <td class="other text-center"> {{i+1}}</td>
                                        <td class="other text-center">
                                            <!-- Linked GL -->
                                            <!-- (ngModelChange)="dropdowOnSelect(gRow)" -->
                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.ActivityId" [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Activity--</option>
                                                    <option *ngFor="let gRow of ActivityList" [value]="gRow.ID">
                                                        {{gRow.Name | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.Division}}
                                        </td>
                                        <td class="other text-center">
                                            <!-- Linked GL -->
                                            <!-- (ngModelChange)="dropdowOnSelect(gRow)" -->
                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.TransactionType"
                                                    [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Transaction Type--</option>
                                                    <option *ngFor="let gRow of TransactionTypeList" [value]="gRow.ID">
                                                        {{gRow.GroupName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.TransactionTypeName}}
                                        </td>

                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.WIP" [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT WIP --</option>
                                                    <option *ngFor="let gRow of WIPList" [value]="gRow.ID">
                                                        {{gRow.AccountName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.WIPName}}
                                        </td>
                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.ProvisionAccountId"
                                                    [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Provision Account --</option>
                                                    <option *ngFor="let gRow of divisionList" [value]="gRow.ID">
                                                        {{gRow.DivisionName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.ProvisionAccount}}
                                        </td>
                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.ActualAccountId"
                                                    [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT Actual Account --</option>
                                                    <option *ngFor="let gRow of divisionList" [value]="gRow.ID">
                                                        {{gRow.DivisionName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.ActualAccount}}
                                        </td>

                                        <td class="other text-center">
                                            <!-- <mat-form-field class="tillDate mat_date_picker mt-3"
                                                    appearance="outline">
                                                    <input matInput (click)="EnquiryDateto.open()" readonly
                                                        [disabled]="ControlDisplay" [min]="getToday()"
                                                        autocomplete="off" [matDatepicker]="EnquiryDateto"
                                                        id="EnquiryDateto" [placeholder]="entityDateFormat"
                                                        [(ngModel)]="gRow.EffectiveDate"
                                                        [ngModelOptions]="{standalone: true}">
                                                    <mat-datepicker-toggle matSuffix
                                                        [for]="EnquiryDateto"></mat-datepicker-toggle>
                                                    <mat-datepicker #EnquiryDateto></mat-datepicker>
                                                </mat-form-field> -->
                                            {{gRow.EffectiveDate | date:
                                            commonDataService.convertToLowerCaseDay(entityDateFormat)}}

                                            <!-- <input type="date" [disabled]="ControlDisplay" autocomplete="off"
                                                    id="txtEffectiveDate" [ngModelOptions]="{standalone: true}"
                                                            [(ngModel)]="gRow.EffectiveFrom" class="form-control cursor_blocked"
                                                            [min]="getToday()" /> -->
                                        </td>

                                        <td class="other text-center">

                                            <!-- <select class="form-control cursor_blocked" [disabled]="ControlDisplay"
                                                    [(ngModel)]="gRow.Status" [ngModelOptions]="{standalone: true}">
                                                    <option disabled value="0">--SELECT ACTIVE --</option>
                                                    <option *ngFor="let gRow of divisionList" [value]="gRow.ID">
                                                        {{gRow.DivisionName | uppercase}}
                                                    </option>
                                                </select> -->
                                            {{gRow.StatusName}}
                                        </td>
                                        <td class="other text-center">
                                            <!-- Deselect -->
                                            <!-- <input type="checkbox" [ngModelOptions]="{standalone: true}"
                                                    [(ngModel)]="gRow.IsSelected" ng-true-value="1" ng-false-value="0"
                                                    id="chkDeselect"> -->

                                            <input class="vertal checkbox" type="radio" name="AlertCheck"
                                                id="RadioCheck" (click)="OtherDivisionRadioChange($event,i)" />
                                        </td>
                                        <!-- <td class="alc">
                                                <button class="btn btn-success bmd-btn-fab" [disabled]="ControlDisplay"
                                                    *ngIf="last" (click)="DynamicGridAddRow(gRow,i)">
                                                    <i class="material-icons">add</i>
                                                </button>
                                                <button class="btn btn-danger bmd-btn-fab" [disabled]="ControlDisplay"
                                                    (click)="DynamicGridDeleteRow(DynamicGrid,i,gRow.ID)">
                                                    <i class="material-icons">delete</i>
                                                </button>
                                            </td> -->

                                    </tr>
                                </tbody>

                            </table>
                            <!-- </form> -->
                        </div>
                    </div>
                    <!-- `````````````` -->
                </div>
            </form>

            <div class="mb-3">
                <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12" style="text-align:right;">
                    <button [disabled]="isUpdateEnable" type="submit" (click)="onSubmit()"
                        class="btn btn-primary btn-raised mb-0  m-r-15">Save</button>

                    <button type="button" (click)="reset()" class="btn btn-danger btn-raised mb-0">Cancel</button>

                    <!-- <button type="submit" (click)="onSubmit()" class="btn btn-primary btn-raised mb-0">Save<div
                                class="ripple-container"></div></button> -->
                    <!-- [disabled]="disableSave" *ngIf="showSave" -->
                </div>
                <input type="hidden" id="HDRegId" ng-model="HDRegId" />
            </div>

            <!-- </div>
            </div> -->
            <!-- </form> -->
        </div>


    </div>



</div>