
<div class="card p-4" >
    <form [formGroup]="filterForm">

<div class="row">
  
    <div class="col-md-2">
        <label class="str mb-2">Date</label>
        <mat-form-field class="tillDate mat_date_picker" appearance="outline">
            <input matInput formControlName="Date" (dateChange)="onDateChange($event)" readonly autocomplete="off" [matDatepicker]="ToDate" id="ToDate" style="padding:3px;">
            <mat-datepicker-toggle matSuffix [for]="ToDate" class="center-icon"></mat-datepicker-toggle>
            <mat-datepicker #ToDate></mat-datepicker>
        </mat-form-field>
    </div>
    
    
    <div class="col-md-2">
        <label class="str" for="companyName">Select Division</label><br>
       
        <ng-select  class="searchdropdown custom" formControlName="DivisionId" (change)="onDivisionChange(filterForm.value.DivisionId, id)"  (ngModelChange)="getOfficeLists($event)" [clearable]="false">
            <ng-option [value]="''" [disabled]="true">--SELECT DIVISION--</ng-option>
            <ng-container  *ngFor="let division of divisionList">
              <ng-option  [value]="division.ID">
                <span class="textwrap">{{division.DivisionName | uppercase}}</span>
              </ng-option>
           </ng-container>
        </ng-select>
    </div>

    <div class="col-md-2">
        <label class="str" >Select Office</label><br>

        <ng-select  class="searchdropdown" formControlName="OfficeId" (change)="onOfficeChange(filterForm.value.OfficeId, id)" [clearable]="false">
            <ng-option [value]="''" disabled>--SELECT OFFICE--</ng-option>
            <ng-container *ngFor="let office of officeList">
              <ng-option [value]="office.ID">
                <span class="textwrap">{{office.OfficeName | uppercase}}</span>
              </ng-option>
            </ng-container>
        </ng-select> 
    </div>
    <div class="col-md-2">
        <button style="padding: 2px 0px !important;width: 40%;font-size: 14px !important;margin-top:27px;"
        class="btn btn-raised btn-danger mb-0"
        (click)="createBalanceFilterForm();fetchData(id);">
        Clear
    </button>

    </div>
    <div class="col-md-2"></div>

    <div class="col-md-2" style="margin-top: 34px;">
      
        Download a 
        <!-- <a href="{{this.TemplateUploadURL}}/assets/Uploads/Asset Template.xlsx">Sample File</a> -->
        <a href="javascript:;" (click)="downloadExcel()">Sample File</a>
        
    </div>

</div>
</form>

<div class="col-md-12 mt-5 pt-3"></div>

<div class="row">    
    <div class="col-md-4"></div>

    <div class="col-md-4 txts">
        <h3>ODAK SOLUTIONS PRIVATE LIMITED</h3>
        <h2>Account Transactions</h2>
        <p>Basis: Accrual</p>
        <h6>Accounts Receivable</h6>
        <p>{{ selectedDate ? selectedDate : currentDate | date:'mediumDate' }}</p>
    </div>

    <div class="col-md-4"></div>

</div>

<div class="col-md-12 mt-3"></div>

<div class="col-sm-12 scrtbl">
    <table id="datatable-buttons" #table
    class="table table-striped table-bordered w-100 dataTable no-footer" role="grid"
    aria-describedby="datatable-buttons_info">
    <thead>
        <tr role="row">
            <th >DATE</th>
            <th >ACCOUNT</th>
            <th >TRANSACTION DETAILS</th>
            <th >TRANSACTION TYPE</th>
            <th >TRANSACTION#</th>
            <th >REFERENCE#</th>
            <th >DEBIT</th>
            <th >CREDIT</th>
            <th >AMOUNT</th>
        </tr>
        <tr>
            <th >As On</th>
            <th >Opening Balance</th>
            <th colspan="7"></th>
        </tr>

    </thead>
    <tbody>        
          <tr *ngFor="let balance of dataList">
            <td>{{balance.Trans_Date}}</td>
            <td>{{balance.Trans_Account_Name}}</td>
            <td>{{balance.Trans_Details}}</td>
            <td>{{balance.Transaction_Type}}</td>
            <td>{{balance.Trans_Type}}</td>
            <td>{{balance.Trans_Ref_Details}}</td>
            <td>{{balance.Debit}}</td>
            <td>{{balance.Credit}}</td>
            <td>{{balance.Amount}}</td>
        </tr>       
    </tbody>

</table>

</div>

<div style=" width: 100%;justify-content: end;" class="row page">
    <ul *ngIf="pager.pages && pager.pages.length && pager.totalItems > 10 && pager.totalItems > 10" class="pagination">
        <li [ngClass]="{disabled:pager.currentPage === 1}">
            <a (click)="setPage(1)">First</a>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === 1}">
            <a (click)="setPage(pager.currentPage - 1)">Previous</a>
        </li>
        <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
            <a (click)="setPage(page)">{{page}}</a>
        </li>
        <li *ngIf="(pager.totalPages - pager.startPage) > 5 ">
            <a (click)="setPage(pager.startPage + 5)">...</a>
        </li>
        <li *ngIf="(pager.totalPages - pager.startPage) > 5">
            <a (click)="setPage(pager.totalPages)">{{pager.totalPages}}</a>
        </li>

        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
            <a (click)="setPage(pager.currentPage + 1)">Next</a>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
            <a (click)="setPage(pager.totalPages)">Last</a>
        </li>
    </ul>
</div>

</div>



